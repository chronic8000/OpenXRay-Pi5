#pragma once

//////////////////////////////////////////////////////////////////////////
// SStateDataAction
//////////////////////////////////////////////////////////////////////////
struct SStateDataAction
{
    EAction action{ ACT_STAND_IDLE };
    u32 spec_params{};
    u32 time_out{};
    u32 sound_type{ u32(-1) };
    u32 sound_delay{ u32(-1) };
};

//////////////////////////////////////////////////////////////////////////
// SStateDataMoveToPoint
//////////////////////////////////////////////////////////////////////////
struct SStateDataMoveToPoint
{
    Fvector point{};
    u32 vertex{ u32(-1) };
    Fvector target_direction{};

    bool accelerated{};
    bool braking{};
    u8 accel_type{};

    float completion_dist{};

    SStateDataAction action{};
};

//////////////////////////////////////////////////////////////////////////
// SStateDataMoveToPointEx
//////////////////////////////////////////////////////////////////////////
struct SStateDataMoveToPointEx : public SStateDataMoveToPoint
{
    u32 time_to_rebuild{ u32(-1) }; // u32(-1) - не перестраивать, 0-по-умолчанию, ...
};

//////////////////////////////////////////////////////////////////////////
// SStateHideFromPoint
//////////////////////////////////////////////////////////////////////////
struct SStateHideFromPoint
{
    Fvector point{};

    bool accelerated{};
    bool braking{};
    u8 accel_type{};

    float distance{ 1.0f };

    float cover_min_dist{ 10.f };
    float cover_max_dist{ 30.f };
    float cover_search_radius{ 20.f };

    SStateDataAction action{};
};

//////////////////////////////////////////////////////////////////////////
// SStateDataLookToPoint
//////////////////////////////////////////////////////////////////////////
struct SStateDataLookToPoint
{
    Fvector point{};
    u32 face_delay{};
    SStateDataAction action{};
};

//////////////////////////////////////////////////////////////////////////
// SStateDataMoveAroundPoint
//////////////////////////////////////////////////////////////////////////
struct SStateDataMoveAroundPoint
{
    Fvector point{};
    u32 vertex{ u32(-1) };

    float radius{ 10.f };

    bool accelerated{};
    bool braking{};
    u8 accel_type{};

    SStateDataAction action{};
};

//////////////////////////////////////////////////////////////////////////
// SStateDataActionLook
//////////////////////////////////////////////////////////////////////////
struct SStateDataActionLook : public SStateDataAction
{
    Fvector point{};
};
